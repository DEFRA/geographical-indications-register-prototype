
{% extends "layout.html" %}

{% block pageTitle %}
Geographical indications register
{% endblock %}

{% block beforeContent %}
  <a href="javascript:history.back();" class="govuk-back-link">Back</a>
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">


      <h1 class="govuk-heading-xl">Search results</h1>

      <!-- RESULTS? ###################################### -->
      {% set numToDisplay = 20 %}
      {% set numResults = results | length %}

      <!-- Check if filters have been applied -->
      {% set filterLength = data.category | length + data.country | length + data.types | length + data.statuses | length %}

      <p class="govuk-body"><span class="govuk-!-font-weight-bold">
        {{ results | length }}</span> products found {{ " for:" if filterLength>0 }}
      </p>

      {{ '<ul class="govuk-list govuk-list--bullet">' | safe if filterLength>0 }}
        {% if data.name | length != 0 %}<li>Search text: {{ data.name }}</li>{% endif %}
        {% if data.category | length != 0 %}<li>Category: {{ data.category }}</li>{% endif %}
        {% if data.country | length != 0 %}<li>Country: {{ data.country }}</li>{% endif %}
        {% if data.types | length != 0 %}<li>Type: {{ data.types | join(", ") }}</li>{% endif %}
        {% if data.statuses | length != 0 %}<li>Status: {{ data.statuses | join(", ") }}</li>{% endif %}
      {{ "</ul>" | safe if filterLength>0 }}

      {% set print = true %}
      {% for result in results | sort(attribute="EA_Name") %}
        {% if print %}
          <p class="govuk-body">
            <a href="details/{{ result.EA_FileNumber }}">{{ result.EA_Name }}</a>
          </p>
          {% if loop.index==numToDisplay %}
            {% set print = false %}
          {% endif %}
        {% endif %}
      {% endfor %}

      <p>
        <span class="govuk-!-font-weight-bold">1</span> to
        <span class="govuk-!-font-weight-bold">{{ numToDisplay }}</span> of
        <span class="govuk-!-font-weight-bold">{{ numResults }}</span> products
        <a href="#">Next page</a>
      </p>


<!--
      {"DEF_OriginalOrder":2903,"DEF_Register":"Food and Agri UK PDO","EA_ProductType":"Food","EA_Name":"White Stilton cheese / Blue Stilton cheese","DEF_SearchName":"white stilton cheese blue stilton cheese","DEF_SearchNameAndCategory":"white stilton cheese blue stilton cheese cheeses","DEF_SearchTextAll":"white stilton cheese blue stilton cheese cheeses food and agri uk pdo protected designation of origin pdo","DEF_SearchCategory":"cheeses","EA_ProductCategory":"Class 1.3. Cheeses","EA_FileNumber":"PDO-GB-0277","EA_Type":"Protected Designation of Origin (PDO)","EA_Country":"United Kingdom","EA_Status":"Registered","EA_LegalInstrument":"Official Journal L 148, 21.06.1996","EA_ApplicationDate":"","EA_DateRegistration":"21/06/1996","EA_DatePublication":""}
-->



    </div>
  </div>

{% endblock %}
