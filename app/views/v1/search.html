{% extends "layout.html" %}

{% block pageTitle %}
Geographical indications register
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {% if headers | length == 0 %}
      {% endif %}
      <h1 class="govuk-heading-xl">Search for a protected product</h1>

      <form class="form" action="search-results_list_details" method="get">
        <div class="govuk-form-group">
          <label class="govuk-label" for="search">
              You can search by food name or food type
          </label>
          <input class="govuk-input" id="search" name="name" type="text">
        </div>

        <button class="govuk-button" data-module="govuk-button">Search</button>



<!-- FILTERS ###################################### -->

<details class="govuk-details" data-module="govuk-details">
  <summary class="govuk-details__summary">
    <span class="govuk-details__summary-text">
      Filter by type, category, country or status
    </span>
  </summary>
  <div class="govuk-details__text">

<!-- Columns -->
    <div class="govuk-grid-row">
      <!-- Column 1 of 3 -->
      <div class="govuk-grid-column-one-third">

        <!-- Product type -->
        {% from "./data/lists/product-types.json" import producttypes %}

              {{ govukCheckboxes({
                idPrefix: "types",
                name: "types",
                classes: "govuk-checkboxes--small",
                fieldset: {
                  legend: {
                    text: "Product type",
                    isPageHeading: false,
                    classes: "govuk-fieldset__legend--s"
                  }
                },
                items: producttypes
              }) }}

      </div><!-- END column -->

      <!-- Column 2 of 3 -->
      <div class="govuk-grid-column-one-third">

        <!-- Status -->
        {% from "./data/lists/statuses.json" import statuses %}
            {{ govukCheckboxes({
              idPrefix: "statuses",
              name: "statuses",
              classes: "govuk-checkboxes--small",
              fieldset: {
                legend: {
                  text: "Status",
                  isPageHeading: false,
                  classes: "govuk-fieldset__legend--s"
                }
              },
              items: statuses
            }) }}

      </div><!-- END column -->

      <!-- Column 3 of 3 -->
      <div class="govuk-grid-column-one-third">

        <!-- Categories -->
        {% from "./data/lists/categories.json" import categories %}
              {{ govukSelect({
                id: "category",
                name: "category",
                label: {
                  text: "Category"
                },
                items: categories
              }) }}

        <!-- Countries -->
        {% from "./data/lists/countries.json" import countries %}
              {{ govukSelect({
                id: "country",
                name: "country",
                label: {
                  text: "Country"
                },
                items: countries
              }) }}

      </div><!-- END column -->

    </div><!-- END all columns -->


          <!-- FILTERS END #################################### -->

        </div>
      </details>

      </form>


      <!-- RESULTS? ###################################### -->

      <table class="govuk-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            {% for header in headers %}
            <th scope="col" class="govuk-table__header"><a href="/badly-designed-register/{{ registerName }}?filter={{ filter }}&sortColumn={{ loop.index0 }}&sortDescending={{ sortColumn == loop.index0 and sortDescending == 'false' }}">{{ header }}</a></th>
            {% endfor %}
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          {% for geographicalIndication in data %}
          <tr class="govuk-table__row">
            {% for dataValue in geographicalIndication %}
            <td class="govuk-table__cell">{{ dataValue }}</td>
            {% endfor %}
          </tr>
          {% endfor %}
        </tbody>
      </table>




    </div>
  </div>

{% endblock %}
